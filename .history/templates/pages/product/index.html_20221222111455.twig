{% extends 'base.html.twig' %}

{% block title %}SupaMarket - Mes produits
{% endblock %}

{% block body %}

	<div class="album py-5 bg-light">
		<div class="container">
			<h1>Nos Produits</h1>
			{% if not p.items is same as ([]) %}
            <div class="count text-primary">
            <h4> Nous avons {{ products.getTotalItemCount }} produits au total</h4>
</div>
			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
				{% for product in products %}
					<div class="col">
						<div class="card shadow-sm">
							<img src="{{product.image}}" class="card-img-top" alt="imageProducts">
							<div class="card-body">
								<h5 class="card-title">{{product.name}}</h5>
								<p class="card-text">{{product.description}}</p>
								<div class="mb-3">
									<label for="quantity">Qté</label>
									<input type="number" name="quantity" id="quantity" min="1" style="width: 3em">
								</div>
								<div class="d-flex justify-content-between align-items-center">
									<div>
										<h5>Prix  :
											<span>{{product.price}}</span>€
										</h5>
									</div>

									<small class="text-danger fw-bold ">
										{% if product.promotion == 1 %}
											Promo
											               -{{ random(5,15) }}%
										{% endif %}
									</small>
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
				
			</div>
<div class="navigation d-flex justify-content-center mt-4">
					{{ knp_pagination_render(products) }}
				</div>
		</div>

	</div>

{% endblock %}

